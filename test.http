### Health Check
GET http://localhost:2000/health

### Debug: 전체 사용자 조회
GET http://localhost:2000/debug/users

### 회원가입 (정상)
# 이미 동일한 이메일이 있으면 409 DUPLICATE_RESOURCE 응답을 기대하세요.
POST http://localhost:2000/auth/signup
Content-Type: application/json

{
  "email": "sam@example.com",
  "password": "123456789!",
  "name": "홍길동"
}

### 회원가입 (검증 실패 예시)
POST http://localhost:2000/auth/signup
Content-Type: application/json

{
  "email": "bad-email-format",
  "password": "123",
  "name": ""
}

### 로그인 (정상)
# @name login
POST http://localhost:2000/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!"
}

### 로그인 (실패 - 비밀번호 불일치)
POST http://localhost:2000/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "wrong-password"
}

### 내 정보 조회 (GET /users/me)
# 위 "login" 요청에서 받은 accessToken을 Authorization 헤더에 넣습니다.
GET http://localhost:2000/users/me
Authorization: Bearer {{login.response.body.$.data.accessToken}}

### 내 정보 조회 - 토큰 없음 (401)
GET http://localhost:2000/users/me

### Auth 라우터 ping 테스트
GET http://localhost:2000/auth/ping

### 관리자 로그인 (admin@example.com 계정 사용)
# @name adminLogin
POST http://localhost:2000/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "P@ssw0rd!"
}

### 관리자 - 전체 사용자 목록 조회
GET http://localhost:2000/admin/users
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### 관리자 - 특정 사용자 비활성화
PATCH http://localhost:2000/admin/users/1/deactivate
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### 관리자 - 사용자 ROLE 변경
PATCH http://localhost:2000/admin/users/1/role
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "role": "ADMIN"
}

### 관리자 - 도서 등록
# @name createBook
POST http://localhost:2000/books
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "title": "테스트 도서 1",
  "description": "테스트용 안내 문구입니다",
  "isbn13": "9781234567890",
  "price": 15000,
  "stock": 10,
  "languageCode": "ko",
  "pageCount": 320,
  "coverUrl": "https://example.com/cover1.jpg"
}

### 도서 목록 조회 (검색 + 페이징 + 정렬)
GET http://localhost:2000/books?keyword=테스트&page=0&size=10&sort=createdAt,DESC

### 도서 상세 조회
GET http://localhost:2000/books/{{createBook.response.body.$.data.id}}

### 도서 수정 (ADMIN)
PATCH http://localhost:2000/books/1
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "price": 20000,
  "stock": 5
}

### 도서 삭제 (ADMIN, soft delete)
DELETE http://localhost:2000/books/1
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### 리뷰 시나리오용 로그인
# @name reviewLogin
POST http://localhost:2000/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!"
}

### 리뷰 작성
# @name createReview
POST http://localhost:2000/books/{{createBook.response.body.$.data.id}}/reviews
Authorization: Bearer {{reviewLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "title": "강력 추천합니다",
  "body": "정말 재미있게 읽었습니다!",
  "rating": 5
}

### 리뷰 목록 조회 (최신순)
GET http://localhost:2000/books/1/reviews?page=0&size=10&sort=latest

### 리뷰 목록 조회 (좋아요 내림차순)
GET http://localhost:2000/books/1/reviews?page=0&size=10&sort=likes:desc

### 리뷰 수정
PATCH http://localhost:2000/reviews/{{createReview.response.body.$.data.id}}
Authorization: Bearer {{reviewLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "body": "수정한 리뷰입니다",
  "rating": 4
}

### 리뷰 삭제 (Soft Delete)
DELETE http://localhost:2000/reviews/1
Authorization: Bearer {{reviewLogin.response.body.$.data.accessToken}}

### 리뷰 좋아요 등록 (reviewId = 2 예시)
POST http://localhost:2000/reviews/2/likes
Authorization: Bearer {{reviewLogin.response.body.$.data.accessToken}}

### 리뷰 좋아요 취소 (reviewId = 2 예시)
DELETE http://localhost:2000/reviews/2/likes
Authorization: Bearer {{reviewLogin.response.body.$.data.accessToken}}

### 주문 생성
POST http://localhost:2000/orders
Authorization: Bearer {{login.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "bookId": {{createBook.response.body.$.data.id}},
  "quantity": 2
}

### 주문 목록 조회
GET http://localhost:2000/orders
Authorization: Bearer {{login.response.body.$.data.accessToken}}

### 주문 상세 조회
GET http://localhost:2000/orders/1
Authorization: Bearer {{login.response.body.$.data.accessToken}}

### 주문 취소
PATCH http://localhost:2000/orders/1/cancel
Authorization: Bearer {{login.response.body.$.data.accessToken}}

### ADMIN - 전체 주문 조회
GET http://localhost:2000/orders/admin/all
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### ADMIN - 주문 상태 변경
PATCH http://localhost:2000/orders/1/status
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}
Content-Type: application/json

{
  "status": "PAID"
}

### Refresh 토큰으로 Access 토큰 재발급
# @name refresh
POST http://localhost:2000/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{login.response.body.$.data.refreshToken}}"
}

### 로그아웃 (Refresh 토큰 폐기)
POST http://localhost:2000/auth/logout
Content-Type: application/json

{
  "refreshToken": "{{login.response.body.$.data.refreshToken}}"
}

### 관리자 통계 요약 조회
GET http://localhost:2000/stats/summary
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### 관리자 - 인기 도서(리뷰 기준 Top 5) 조회
GET http://localhost:2000/stats/top-books
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}

### (페이지네이션 예시) 도서 목록 조회
GET http://localhost:2000/books?keyword=테스트&page=0&size=5&sort=createdAt,DESC

### (페이지네이션 예시) 주문 목록 조회
GET http://localhost:2000/orders?page=0&size=5&sort=createdAt,DESC
Authorization: Bearer {{login.response.body.$.data.accessToken}}

### (페이지네이션 예시) 관리자 사용자 목록 조회
GET http://localhost:2000/admin/users?page=0&size=5&sort=createdAt,DESC
Authorization: Bearer {{adminLogin.response.body.$.data.accessToken}}
