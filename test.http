### Health Check
GET http://localhost:8080/health


### Debug: 모든 유저 조회
GET http://localhost:8080/debug/users


### 회원가입 (성공 예시)
# 이미 같은 이메일이 있으면 409 DUPLICATE_RESOURCE 나오는 게 정상이야.
POST http://localhost:8080/auth/signup
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!",
  "name": "사임"
}


### 회원가입 (유효성 실패 예시 - 비밀번호 너무 짧음)
POST http://localhost:8080/auth/signup
Content-Type: application/json

{
  "email": "bad-email-format",
  "password": "123",
  "name": ""
}


### 로그인 (성공)
# @name login
POST http://localhost:8080/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!"
}


### 로그인 (실패 - 비밀번호 틀림)
POST http://localhost:8080/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "wrong-password"
}


### 내 정보 조회 (GET /users/me)
# 위의 "login" 요청에서 받은 accessToken을 자동으로 가져옴
GET http://localhost:8080/users/me
Authorization: Bearer {{login.response.body.data.accessToken}}


### 내 정보 조회 - 토큰 없이 (401 기대)
GET http://localhost:8080/users/me


### auth 라우터 ping 테스트
GET http://localhost:8080/auth/ping


### 관리자 로그인 (admin@example.com 같은 계정 만든 뒤 사용해도 됨)
# @name adminLogin
POST http://localhost:8080/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!"
}

### 관리자 - 전체 유저 조회
GET http://localhost:8080/admin/users
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### 관리자 - 특정 유저 비활성화
PATCH http://localhost:8080/admin/users/1/deactivate
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### 관리자 - 특정 유저 ROLE 변경
PATCH http://localhost:8080/admin/users/1/role
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "role": "ADMIN"
}

### 관리자 - 도서 생성
# @name createBook
POST http://localhost:8080/books
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "title": "테스트 도서 1",
  "description": "테스트용 설명입니다.",
  "isbn13": "9781234567890",
  "price": 15000,
  "stock": 10,
  "languageCode": "ko",
  "pageCount": 320,
  "coverUrl": "https://example.com/cover1.jpg"
}

### 도서 목록 조회 (검색 + 정렬 + 페이지네이션)
GET http://localhost:8080/books?keyword=테스트&page=0&size=10&sort=createdAt,DESC

### 도서 상세 조회
GET http://localhost:8080/books/{{createBook.response.body.data.id}}

### 도서 수정 (ADMIN)
PATCH http://localhost:8080/books/1
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "price": 20000,
  "stock": 5
}

### 도서 삭제 (ADMIN, soft delete)
DELETE http://localhost:8080/books/1
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### (리뷰) 로그인해서 토큰 가져오기
# @name reviewLogin
POST http://localhost:8080/auth/login
Content-Type: application/json

{
  "email": "user1@example.com",
  "password": "P@ssw0rd!"
}

### (리뷰) 특정 도서에 리뷰 작성
# @name createReview
POST http://localhost:8080/books/{{createBook.response.body.data.id}}/reviews
Authorization: Bearer {{reviewLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "title": "강력 추천합니다",
  "body": "정말 재밌게 읽었어요!",
  "rating": 5
}

### (리뷰) 도서별 리뷰 목록 조회 (최신순)
GET http://localhost:8080/books/1/reviews?page=0&size=10&sort=latest


### (리뷰) 도서별 리뷰 목록 조회 (좋아요 수 내림차순)
GET http://localhost:8080/books/1/reviews?page=0&size=10&sort=likes:desc


### (리뷰) 내 리뷰 수정
PATCH http://localhost:8080/reviews/{{createReview.response.body.data.id}}
Authorization: Bearer {{reviewLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "body": "수정된 리뷰입니다.",
  "rating": 4
}

### (리뷰) 내 리뷰 삭제 (Soft Delete)
DELETE http://localhost:8080/reviews/1
Authorization: Bearer {{reviewLogin.response.body.data.accessToken}}


### (리뷰) 좋아요 등록 (reviewId = 2 예시)
POST http://localhost:8080/reviews/2/likes
Authorization: Bearer {{reviewLogin.response.body.data.accessToken}}


### (리뷰) 좋아요 취소 (reviewId = 2 예시)
DELETE http://localhost:8080/reviews/2/likes
Authorization: Bearer {{reviewLogin.response.body.data.accessToken}}

### 주문 생성
POST http://localhost:8080/orders
Authorization: Bearer {{login.response.body.data.accessToken}}
Content-Type: application/json

{
  "bookId": {{createBook.response.body.data.id}},
  "quantity": 2
}



### 주문 목록 조회
GET http://localhost:8080/orders
Authorization: Bearer {{login.response.body.data.accessToken}}

### 주문 상세 조회
GET http://localhost:8080/orders/1
Authorization: Bearer {{login.response.body.data.accessToken}}

### 주문 취소
PATCH http://localhost:8080/orders/1/cancel
Authorization: Bearer {{login.response.body.data.accessToken}}

### ADMIN — 전체 주문 조회
GET http://localhost:8080/orders/admin/all
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### ADMIN — 주문 상태 변경
PATCH http://localhost:8080/orders/1/status
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}
Content-Type: application/json

{
  "status": "PAID"
}

### 리프레시 토큰으로 액세스 토큰 재발급
# @name refresh
POST http://localhost:8080/auth/refresh
Content-Type: application/json

{
  "refreshToken": "{{login.response.body.data.refreshToken}}"
}

### 로그아웃 (실제로는 클라이언트가 토큰 삭제)
POST http://localhost:8080/auth/logout
Content-Type: application/json

### 관리자 — 요약 통계 조회
GET http://localhost:8080/stats/summary
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### 관리자 — 인기 도서(리뷰 수 기준) 조회
GET http://localhost:8080/stats/top-books
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}

### (페이지네이션) 도서 목록 조회
GET http://localhost:8080/books?keyword=테스트&page=0&size=5&sort=createdAt,DESC

### (페이지네이션) 내 주문 목록 조회
GET http://localhost:8080/orders?page=0&size=5&sort=createdAt,DESC
Authorization: Bearer {{login.response.body.data.accessToken}}

### (페이지네이션) 관리자 유저 목록 조회
GET http://localhost:8080/admin/users?page=0&size=5&sort=createdAt,DESC
Authorization: Bearer {{adminLogin.response.body.data.accessToken}}
